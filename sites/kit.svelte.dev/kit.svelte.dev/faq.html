<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="theme-color" content="#ff3e00" />
		<meta name="color-scheme" content="dark light" />

		<link rel="manifest" href="/manifest.json" />
		<link rel="icon" type="image/png" href="/favicon.png" />

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@sveltejs" />
		<meta name="twitter:creator" content="@sveltejs" />
		<meta name="twitter:image" content="/images/twitter-thumbnail.jpg" />
		<meta name="og:image" content="/images/twitter-thumbnail.jpg" />

		<!-- add inline style and blocking script to prevent content flash/jump -->
		<style>
			.ts-version {
				display: none;
			}
			.prefers-ts .js-version {
				display: none;
			}
			.prefers-ts .ts-version {
				display: block;
			}
			.no-js .ts-toggle {
				display: none;
			}
		</style>
		<script>
			document.getElementsByTagName('html')[0].classList.remove('no-js');
			localStorage.getItem('prefers-ts') === 'true' &&
				document.documentElement.classList.add('prefers-ts');
		</script>

		<meta http-equiv="content-security-policy" content="">
		<link href="./_app/immutable/assets/_layout.4a4977ec.css" rel="stylesheet">
		<link href="./_app/immutable/assets/navigation.24972d74.css" rel="stylesheet">
		<link href="./_app/immutable/assets/SearchResults.fb8f4adf.css" rel="stylesheet">
		<link href="./_app/immutable/assets/_page.d5a74bfa.css" rel="stylesheet">
		<link href="./_app/immutable/assets/hovers.7cc24a08.css" rel="stylesheet">
		<link rel="preload" as="font" type="font/woff2" href="./_app/immutable/assets/overpass-latin-300.3782c01a.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="./_app/immutable/assets/overpass-latin-600.0ca25556.woff2" crossorigin>
		<link rel="preload" as="font" type="font/woff2" href="./_app/immutable/assets/fira-mono-latin-400.8d4e0c52.woff2" crossorigin>
		<link rel="modulepreload" href="./_app/immutable/entry/start.bc2154d3.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.1cc2e0ff.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.3ca5ba59.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/paths.8c4e863e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/control.e7f5239e.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.6b34a82d.js">
		<link rel="modulepreload" href="./_app/immutable/entry/_layout.svelte.c9a87e1c.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/stores.c28f0607.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/navigation.ad4a0c68.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/SearchResults.ee33e9c4.js">
		<link rel="modulepreload" href="./_app/immutable/entry/_layout.js.984db11e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="./_app/immutable/entry/faq-page.svelte.61a4d303.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/hovers.010bb342.js"><title>FAQ • SvelteKit</title><!-- HEAD_svelte-41e7m7_START --><meta name="twitter:title" content="SvelteKit FAQ"><meta name="twitter:description" content="Frequently asked questions about SvelteKit"><meta name="description" content="Frequently asked questions about SvelteKit"><!-- HEAD_svelte-41e7m7_END -->
	</head>
	<body>
		<div>


<div style="display: none">
	<svg><symbol id="arrow-left" class="icon" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></symbol><symbol id="arrow-right" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></symbol><symbol id="arrow-up" class="icon" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></symbol><symbol id="arrow-down" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></symbol><symbol id="check" class="icon" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></symbol><symbol id="close" class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></symbol><symbol id="download" class="icon" viewBox="0 0 24 24"><path d="M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></symbol><symbol id="edit" class="icon" viewBox="0 0 24 24"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></symbol><symbol id="github" class="icon" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5229 6.47715 22 12 22C17.5229 22 22 17.5229 22 12C22 6.47715 17.5229 2 12 2ZM0 12C0 5.3726 5.3726 0 12 0C18.6274 0 24 5.3726 24 12C24 18.6274 18.6274 24 12 24C5.3726 24 0 18.6274 0 12Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9.59162 22.7357C9.49492 22.6109 9.49492 21.4986 9.59162 19.399C8.55572 19.4347 7.90122 19.3628 7.62812 19.1833C7.21852 18.9139 6.80842 18.0833 6.44457 17.4979C6.08072 16.9125 5.27312 16.8199 4.94702 16.6891C4.62091 16.5582 4.53905 16.0247 5.84562 16.4282C7.15222 16.8316 7.21592 17.9303 7.62812 18.1872C8.04032 18.4441 9.02572 18.3317 9.47242 18.1259C9.91907 17.9201 9.88622 17.1538 9.96587 16.8503C10.0666 16.5669 9.71162 16.5041 9.70382 16.5018C9.26777 16.5018 6.97697 16.0036 6.34772 13.7852C5.71852 11.5669 6.52907 10.117 6.96147 9.49369C7.24972 9.07814 7.22422 8.19254 6.88497 6.83679C8.11677 6.67939 9.06732 7.06709 9.73672 7.99999C9.73737 8.00534 10.6143 7.47854 12.0001 7.47854C13.386 7.47854 13.8777 7.90764 14.2571 7.99999C14.6365 8.09234 14.94 6.36699 17.2834 6.83679C16.7942 7.79839 16.3844 8.99999 16.6972 9.49369C17.0099 9.98739 18.2372 11.5573 17.4833 13.7852C16.9807 15.2706 15.9927 16.1761 14.5192 16.5018C14.3502 16.5557 14.2658 16.6427 14.2658 16.7627C14.2658 16.9427 14.4942 16.9624 14.8233 17.8058C15.0426 18.368 15.0585 19.9739 14.8708 22.6234C14.3953 22.7445 14.0254 22.8257 13.7611 22.8673C13.2924 22.9409 12.7835 22.9822 12.2834 22.9982C11.7834 23.0141 11.6098 23.0123 10.9185 22.948C10.4577 22.9051 10.0154 22.8343 9.59162 22.7357Z" fill="currentColor" stroke="none"></path></symbol><symbol id="git-branch" class="icon" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></symbol><symbol id="log-in" class="icon" viewBox="0 0 24 24"><path d="M15 3H19A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H15"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></symbol><symbol id="maximize" class="icon" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></symbol><symbol id="maximize-2" class="icon" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></symbol><symbol id="menu" class="icon" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></symbol><symbol id="message-square" class="icon" viewBox="0 0 24 24"><g transform="translate(0, 1)"><path d="M16.5 19H11V15H18V11H22V19H19.5L18 20.5L16.5 19Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 3H18V15H8.5L6.5 17L4.5 15H2V3Z" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 11H9" stroke="white" stroke-width="1.5" stroke-linecap="round"></path><path d="M6 7H12" stroke="white" stroke-width="1.5" stroke-linecap="round"></path></g></symbol><symbol id="minus" class="icon" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="plus" class="icon" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></symbol><symbol id="save" class="icon" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></symbol><symbol id="link" class="icon" viewBox="0 0 24 24"><path d="M9,7L6,7A2 2 0 0 0 6,17L9,17"></path><path d="M15,7L18,7A2 2 0 0 1 18,17L15,17"></path><path d="M7,12L17,12"></path></symbol><symbol id="chevron" class="icon" viewBox="0 0 24 24"><path d="M2,7 L12,17 L20,7"></path></symbol><symbol id="delete" class="icon" viewBox="0 0 24 24"><path fill="currentColor" stroke="none" d="M22 4.2h-5.6L15 1.6c-.1-.2-.4-.4-.7-.4H9.6c-.2 0-.5.2-.6.4L7.6 4.2H2c-.4 0-.8.4-.8.8s.4.8.8.8h1.8V22c0 .4.3.8.8.8h15c.4 0 .8-.3.8-.8V5.8H22c.4 0 .8-.3.8-.8s-.4-.8-.8-.8zM10.8 16.5c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5zm4 0c0 .4-.3.8-.8.8s-.8-.3-.8-.8V10c0-.4.3-.8.8-.8s.8.3.8.8v6.5z"></path></symbol></svg></div>



<a href="#main" class="svelte-1rscj97">Skip to main content</a>





<nav aria-label="Primary" class="svelte-173nfcg visible"><a href="/" class="nav-spot home svelte-173nfcg" title="Homepage" style="background-image: url(/_app/immutable/assets/svelte-logo.5c5d7d20.svg)">Home</a>

	<button aria-label="Toggle menu" aria-expanded="false" class="menu-toggle svelte-173nfcg">


<svg class="icon svelte-5yec89" width="1em" height="1em"><use xlink:href="#menu"></use></svg></button>

	<ul class="svelte-173nfcg">
			<li class="svelte-tdqbhp"><form class="search-container svelte-9kfram" action="/search"><input value="" type="search" name="q" placeholder="Search" aria-label="Search" spellcheck="false" class="svelte-9kfram">

	
</form></li></ul>

	<ul class="external svelte-173nfcg"><li><a href="/docs" class="svelte-1iex17r">Docs</a></li>
		<li><a aria-current="true" href="/faq" class="svelte-1iex17r">FAQ</a></li>

		<li aria-hidden="true" class="svelte-tdqbhp"><span class="separator svelte-tdqbhp"></span></li>

		<li><a href="https://svelte.dev" rel="external" class="svelte-1iex17r">Svelte</a></li>

		<li><a href="https://svelte.dev/chat" title="Discord Chat" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">Discord</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#message-square"></use></svg></span></a></li>

		<li><a href="https://github.com/sveltejs/kit" title="GitHub Repo" rel="external" class="svelte-1iex17r"><span class="small svelte-tdqbhp">GitHub</span>
			<span class="large svelte-tdqbhp">


<svg class="icon svelte-5yec89" width="20" height="20"><use xlink:href="#github"></use></svg></span></a></li>
	</ul>
</nav>

<main id="main" class="svelte-tdqbhp" style="--banner-footer-height: 48px;">

<div class="faqs text svelte-1ynmcr1"><h1 class="svelte-1ynmcr1">Frequently Asked Questions</h1>
	<div class="faqs-content svelte-1ynmcr1"><section><article class="faq"><h2 id="other-resources">Other resources

						<a href="#other-resources" class="permalink"><span class="visually-hidden">permalink</span>
						</a></h2>
					<!-- HTML_TAG_START --><p>Please see <a href="https://svelte.dev/faq">the Svelte FAQ</a> and <a href="https://github.com/sveltejs/vite-plugin-svelte/blob/main/docs/faq.md"><code>vite-plugin-svelte</code> FAQ</a> as well for the answers to questions deriving from those libraries.</p>
<!-- HTML_TAG_END -->
				</article><article class="faq"><h2 id="hmr">How do I use HMR with SvelteKit?

						<a href="#hmr" class="permalink"><span class="visually-hidden">permalink</span>
						</a></h2>
					<!-- HTML_TAG_START --><p>SvelteKit has HMR enabled by default powered by <a href="https://github.com/sveltejs/svelte-hmr">svelte-hmr</a>. If you saw <a href="https://svelte.dev/blog/whats-the-deal-with-sveltekit">Rich&#39;s presentation at the 2020 Svelte Summit</a>, you may have seen a more powerful-looking version of HMR presented. This demo had <code>svelte-hmr</code>&#39;s <code>preserveLocalState</code> flag on. This flag is now off by default because it may lead to unexpected behaviour and edge cases. But don&#39;t worry, you are still getting HMR with SvelteKit! If you&#39;d like to preserve local state you can use the <code>@hmr:keep</code> or <code>@hmr:keep-all</code> directives as documented on the <a href="https://github.com/sveltejs/svelte-hmr">svelte-hmr</a> page.</p>
<!-- HTML_TAG_END -->
				</article><article class="faq"><h2 id="read-package-json">How do I include details from package.json in my application?

						<a href="#read-package-json" class="permalink"><span class="visually-hidden">permalink</span>
						</a></h2>
					<!-- HTML_TAG_START --><p>You cannot directly require JSON files, since SvelteKit expects <a href="docs/configuration"><code>svelte.config.js</code></a> to be an ES module. If you&#39;d like to include your application&#39;s version number or other information from <code>package.json</code> in your application, you can load JSON like so:</p>
<div class="code-block"><span class="filename">svelte.config.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function readFileSync(path: PathOrFileDescriptor, options?: {&amp;#10;    encoding?: null | undefined;&amp;#10;    flag?: string | undefined;&amp;#10;} | null): Buffer (+2 overloads)&amp;#10;import readFileSync' >readFileSync</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;fs&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function fileURLToPath(url: string | URL): string&amp;#10;import fileURLToPath' >fileURLToPath</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;url&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const file: string' >file</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) fileURLToPath(url: string | URL): string&amp;#10;import fileURLToPath' >fileURLToPath</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) new URL(input: string, base?: string | URL | undefined): URL&amp;#10;import URL' >URL</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;package.json&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">meta</span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) ImportMeta.url: string' >url</data-lsp>));</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const json: string' >json</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) readFileSync(path: PathOrFileDescriptor, options: {&amp;#10;    encoding: BufferEncoding;&amp;#10;    flag?: string | undefined;&amp;#10;} | BufferEncoding): string (+2 overloads)&amp;#10;import readFileSync' >readFileSync</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='const file: string' >file</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;utf8&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const pkg: any' >pkg</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='var JSON: JSON' >JSON</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) JSON.parse(text: string, reviver?: ((this: any, key: string, value: any) => any) | undefined): any' >parse</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='const json: string' >json</data-lsp>);</span></div></code></div></pre></div><!-- HTML_TAG_END -->
				</article><article class="faq"><h2 id="packages">How do I fix the error I'm getting trying to include a package?

						<a href="#packages" class="permalink"><span class="visually-hidden">permalink</span>
						</a></h2>
					<!-- HTML_TAG_START --><p>Most issues related to including a library are due to incorrect packaging. You can check if a library&#39;s packaging is compatible with Node.js by entering it into <a href="https://publint.dev/">the publint website</a>.</p>
<p>Here are a few things to keep in mind when checking if a library is packaged correctly:</p>
<ul>
<li><code>exports</code> takes precedence over the other entry point fields such as <code>main</code> and <code>module</code>. Adding an <code>exports</code> field may not be backwards-compatible as it prevents deep imports.</li>
<li>ESM files should end with <code>.mjs</code> unless <code>&quot;type&quot;: &quot;module&quot;</code> is set in which any case CommonJS files should end with <code>.cjs</code>.</li>
<li><code>main</code> should be defined if <code>exports</code> is not. It should be either a CommonJS or ESM file and adhere to the previous bullet. If a <code>module</code> field is defined, it should refer to an ESM file.</li>
<li>Svelte components should be distributed as uncompiled <code>.svelte</code> files with any JS in the package written as ESM only. Custom script and style languages, like TypeScript and SCSS, should be preprocessed as vanilla JS and CSS respectively. We recommend using <a href="docs/packaging"><code>svelte-package</code></a> for packaging Svelte libraries, which will do this for you.</li>
</ul>
<p>Libraries work best in the browser with Vite when they distribute an ESM version, especially if they are dependencies of a Svelte component library. You may wish to suggest to library authors that they provide an ESM version. However, CommonJS (CJS) dependencies should work as well since, by default, <a href="https://github.com/sveltejs/vite-plugin-svelte/blob/main/docs/faq.md#what-is-going-on-with-vite-and-pre-bundling-dependencies"><code>vite-plugin-svelte</code> will ask Vite to pre-bundle them</a> using <code>esbuild</code> to convert them to ESM.</p>
<p>If you are still encountering issues we recommend searching both <a href="https://github.com/vitejs/vite/issues">the Vite issue tracker</a> and the issue tracker of the library in question. Sometimes issues can be worked around by fiddling with the <a href="https://vitejs.dev/config/#dep-optimization-options"><code>optimizeDeps</code></a> or <a href="https://vitejs.dev/config/#ssr-options"><code>ssr</code></a> config values though we recommend this as only a short-term workaround in favor of fixing the library in question.</p>
<!-- HTML_TAG_END -->
				</article><article class="faq"><h2 id="integrations">How do I use X with SvelteKit?

						<a href="#integrations" class="permalink"><span class="visually-hidden">permalink</span>
						</a></h2>
					<!-- HTML_TAG_START --><p>Make sure you&#39;ve read the <a href="docs/integrations">documentation section on integrations</a>. If you&#39;re still having trouble, solutions to common issues are listed below.</p>
<h3 id="how-do-i-setup-a-database">How do I setup a database?<a href="#how-do-i-setup-a-database" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Put the code to query your database in a <a href="docs/routing#server">server route</a> - don&#39;t query the database in .svelte files. You can create a <code>db.js</code> or similar that sets up a connection immediately and makes the client accessible throughout the app as a singleton. You can execute any one-time setup code in <code>hooks.js</code> and import your database helpers into any endpoint that needs them.</p>
<h3 id="how-do-i-use-a-client-side-only-library-that-depends-on-document-or-window">How do I use a client-side only library that depends on <code>document</code> or <code>window</code>?<a href="#how-do-i-use-a-client-side-only-library-that-depends-on-document-or-window" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>If you need access to the <code>document</code> or <code>window</code> variables or otherwise need code to run only on the client-side you can wrap it in a <code>browser</code> check:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { browser } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;$app/environment&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (browser) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// client-only code here</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre><p>You can also run code in <code>onMount</code> if you&#39;d like to run it after the component has been first rendered to the DOM:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> () </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const method: any' >method</data-lsp></span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;some-browser-only-library&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='const method: any' >method</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;hello world&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">});</span></div></code></div></pre><p>If the library you&#39;d like to use is side-effect free you can also statically import it and it will be tree-shaken out in the server-side build where <code>onMount</code> will be automatically replaced with a no-op:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) module "some-browser-only-library"&amp;#10;import method' >method</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;some-browser-only-library&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp></span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) module "some-browser-only-library"&amp;#10;import method' >method</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;hello world&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">});</span></div></code></div></pre><p>Otherwise, if the library has side effects and you&#39;d still prefer to use static imports, check out <a href="https://github.com/bluwy/vite-plugin-iso-import">vite-plugin-iso-import</a> to support the <code>?client</code> import suffix. The import will be stripped out in SSR builds. However, note that you will lose the ability to use VS Code Intellisense if you use this method.</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;svelte&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) module "some-browser-only-library?client"&amp;#10;import method' >method</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;some-browser-only-library?client&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) onMount(fn: () => any): void&amp;#10;import onMount' >onMount</data-lsp></span><span style="color: var(--shiki-color-text)">(() </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) module "some-browser-only-library?client"&amp;#10;import method' >method</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&apos;hello world&apos;</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">});</span></div></code></div></pre><h3 id="how-do-i-use-a-different-backend-api-server">How do I use a different backend API server?<a href="#how-do-i-use-a-different-backend-api-server" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>You can use <a href="docs/load#making-fetch-requests"><code>event.fetch</code></a> to request data from an external API server, but be aware that you would need to deal with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS</a>, which will result in complications such as generally requiring requests to be preflighted resulting in higher latency. Requests to a separate subdomain may also increase latency due to an additional DNS lookup, TLS setup, etc. If you wish to use this method, you may find <a href="docs/hooks#server-hooks-handlefetch"><code>handleFetch</code></a> helpful.</p>
<p>Another approach is to set up a proxy to bypass CORS headaches. In production, you would rewrite a path like <code>/api</code> to the API server; for local development, use Vite&#39;s <a href="https://vitejs.dev/config/server-options.html#server-proxy"><code>server.proxy</code></a> option.</p>
<p>How to setup rewrites in production will depend on your deployment platform. If rewrites aren&#39;t an option, you could alternatively add an <a href="https://kit.svelte.dev/docs/routing#server">API route</a>:</p>
<div class="js-version code-block"><span class="filename">src/routes/api/[...path]/+server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;./$types&apos;).<a href="/docs/types#public-types-requesthandler">RequestHandler</a>}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function GET(event: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null>): <a href="/docs/types#private-types-maybepromise">MaybePromise</a>&amp;lt;Response>' >GET</data-lsp></span><span style="color: var(--shiki-color-text)">({ <data-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' >params</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) url: URL' >url</data-lsp> }) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function fetch(input: URL | RequestInfo, init?: RequestInit | undefined): Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`https://my-api-server.com/</span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' >params</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) path: string' >path</data-lsp> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) url: URL' >url</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) URL.search: string' >search</data-lsp></span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}</span></div></code></div></pre></div><div class="ts-version code-block"><span class="filename">src/routes/api/[...path]/+server.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">type</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) type <a href="/docs/types#public-types-requesthandler">RequestHandler</a> = Kit.<a href="/docs/types#public-types-requesthandler">RequestHandler</a>&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null>&amp;#10;import <a href="/docs/types#public-types-requesthandler">RequestHandler</a>' ><a href="/docs/types#public-types-requesthandler">RequestHandler</a></data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;./$types&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const GET: ({ params, url }: <a href="/docs/types#public-types-requestevent">RequestEvent</a>&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null>) => Promise&amp;lt;Response>' >GET</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> (({ <data-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' >params</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) url: URL' >url</data-lsp> }) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='function fetch(input: URL | RequestInfo, init?: RequestInit | undefined): Promise&amp;lt;Response>' >fetch</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`https://my-api-server.com/</span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' >params</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) path: string' >path</data-lsp> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) url: URL' >url</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) URL.search: string' >search</data-lsp></span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">}) satisfies <data-lsp lsp='(alias) type <a href="/docs/types#public-types-requesthandler">RequestHandler</a> = Kit.<a href="/docs/types#public-types-requesthandler">RequestHandler</a>&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null>&amp;#10;import <a href="/docs/types#public-types-requesthandler">RequestHandler</a>' ><a href="/docs/types#public-types-requesthandler">RequestHandler</a></data-lsp>;</span></div></code></div></pre></div><p>(Note that you may also need to proxy <code>POST</code>/<code>PATCH</code> etc requests, and forward <code>request.headers</code>, depending on your needs.)</p>
<h3 id="how-do-i-use-middleware">How do I use middleware?<a href="#how-do-i-use-middleware" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p><code>adapter-node</code> builds a middleware that you can use with your own server for production mode. In dev, you can add middleware to Vite by using a Vite plugin. For example:</p>
<pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function sveltekit(): Promise&amp;lt;Plugin[]>&amp;#10;import sveltekit' >sveltekit</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit/vite&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;vite&apos;).Plugin}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const myPlugin: Plugin_2' >myPlugin</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) OutputPlugin.name: string' >name</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;log-request-middleware&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(property) Plugin_2.configureServer?: ObjectHook&amp;lt;ServerHook, {}> | undefined' >configureServer</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) server: ViteDevServer' >server</data-lsp>) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) server: ViteDevServer' >server</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) ViteDevServer.middlewares: Connect.<a href="/docs/types#public-types-server">Server</a>' >middlewares</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Connect.<a href="/docs/types#public-types-server">Server</a>.use(fn: Connect.NextHandleFunction): Connect.<a href="/docs/types#public-types-server">Server</a> (+3 overloads)' >use</data-lsp></span><span style="color: var(--shiki-color-text)">((<data-lsp lsp='(parameter) req: Connect.IncomingMessage' >req</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) res: ServerResponse&amp;lt;IncomingMessage>' >res</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) next: Connect.NextFunction' >next</data-lsp>) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='namespace console&amp;#10;var console: Console' >console</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)' >log</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`Got request </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) req: Connect.IncomingMessage' >req</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) IncomingMessage.url?: string | undefined' >url</data-lsp></span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) next: (err?: any) => void' >next</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">    });</span></div><div class='line'><span style="color: var(--shiki-color-text)">  }</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;vite&apos;).UserConfig}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const config: UserConfig' >config</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">  <data-lsp lsp='(property) UserConfig.plugins?: PluginOption[] | undefined' >plugins</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [<data-lsp lsp='const myPlugin: Plugin_2' >myPlugin</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) sveltekit(): Promise&amp;lt;Plugin_2[]>&amp;#10;import sveltekit' >sveltekit</data-lsp></span><span style="color: var(--shiki-color-text)">()]</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const config: UserConfig' >config</data-lsp>;</span></div></code></div></pre><p>See <a href="https://vitejs.dev/guide/api-plugin.html#configureserver">Vite&#39;s <code>configureServer</code> docs</a> for more details including how to control ordering.</p>
<h3 id="does-it-work-with-yarn-2">Does it work with Yarn 2?<a href="#does-it-work-with-yarn-2" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Sort of. The Plug&#39;n&#39;Play feature, aka &#39;pnp&#39;, is broken (it deviates from the Node module resolution algorithm, and <a href="https://github.com/yarnpkg/berry/issues/638">doesn&#39;t yet work with native JavaScript modules</a> which SvelteKit — along with an <a href="https://blog.sindresorhus.com/get-ready-for-esm-aa53530b3f77">increasing number of packages</a> — uses). You can use <code>nodeLinker: &#39;node-modules&#39;</code> in your <a href="https://yarnpkg.com/configuration/yarnrc#nodeLinker"><code>.yarnrc.yml</code></a> file to disable pnp, but it&#39;s probably easier to just use npm or <a href="https://pnpm.io/">pnpm</a>, which is similarly fast and efficient but without the compatibility headaches.</p>
<h3 id="how-do-i-use-with-yarn-3">How do I use with Yarn 3?<a href="#how-do-i-use-with-yarn-3" class="permalink"><span class="visually-hidden">permalink</span></a></h3><p>Currently ESM Support within the latest Yarn (version 3) is considered <a href="https://github.com/yarnpkg/berry/pull/2161">experimental</a>.</p>
<p>The below seems to work although your results may vary.</p>
<p>First create a new application:</p>
<pre class='language-undefined'><code>yarn create svelte myapp
cd myapp</code></pre><p>And enable Yarn Berry:</p>
<pre class='language-undefined'><code>yarn set version berry
yarn install</code></pre><p><strong>Yarn 3 global cache</strong></p>
<p>One of the more interesting features of Yarn Berry is the ability to have a single global cache for packages, instead of having multiple copies for each project on the disk. However, setting <code>enableGlobalCache</code> to true causes building to fail, so it is recommended to add the following to the <code>.yarnrc.yml</code> file:</p>
<pre class='language-'><code>nodeLinker: node-modules</code></pre><p>This will cause packages to be downloaded into a local node_modules directory but avoids the above problem and is your best bet for using version 3 of Yarn at this point in time.</p>
<!-- HTML_TAG_END -->
				</article></section></div>
</div></main>

<div class="banner svelte-tdqbhp" style="--banner-footer-height: 48px;"><a target="_blank" rel="noopener noreferrer" href="https://hack.sveltesociety.dev/"><span class="small svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Participate →
			</span>
			<span class="large svelte-tdqbhp"><strong class="svelte-tdqbhp">Announcing SvelteHack</strong> Our first hackathon with over $12,000 in prizes →
			</span></a>
		<button class="svelte-tdqbhp">✕ </button></div>




			
			<script>
				{
					__sveltekit_duwvm8 = {
						env: {},
						base: new URL(".", location).pathname.slice(0, -1),
						element: document.currentScript.parentElement
					};

					const data = [null,{"type":"data","data":{sections:[{file:"faq\u002F00-other-resources.md",slug:"other-resources",title:"Other resources",content:"\u003Cp\u003EPlease see \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Ffaq\"\u003Ethe Svelte FAQ\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fvite-plugin-svelte\u002Fblob\u002Fmain\u002Fdocs\u002Ffaq.md\"\u003E\u003Ccode\u003Evite-plugin-svelte\u003C\u002Fcode\u003E FAQ\u003C\u002Fa\u003E as well for the answers to questions deriving from those libraries.\u003C\u002Fp\u003E\n",sections:[]},{file:"faq\u002F20-hmr.md",slug:"hmr",title:"How do I use HMR with SvelteKit?",content:"\u003Cp\u003ESvelteKit has HMR enabled by default powered by \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fsvelte-hmr\"\u003Esvelte-hmr\u003C\u002Fa\u003E. If you saw \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Fblog\u002Fwhats-the-deal-with-sveltekit\"\u003ERich&#39;s presentation at the 2020 Svelte Summit\u003C\u002Fa\u003E, you may have seen a more powerful-looking version of HMR presented. This demo had \u003Ccode\u003Esvelte-hmr\u003C\u002Fcode\u003E&#39;s \u003Ccode\u003EpreserveLocalState\u003C\u002Fcode\u003E flag on. This flag is now off by default because it may lead to unexpected behaviour and edge cases. But don&#39;t worry, you are still getting HMR with SvelteKit! If you&#39;d like to preserve local state you can use the \u003Ccode\u003E@hmr:keep\u003C\u002Fcode\u003E or \u003Ccode\u003E@hmr:keep-all\u003C\u002Fcode\u003E directives as documented on the \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fsvelte-hmr\"\u003Esvelte-hmr\u003C\u002Fa\u003E page.\u003C\u002Fp\u003E\n",sections:[]},{file:"faq\u002F60-read-package-json.md",slug:"read-package-json",title:"How do I include details from package.json in my application?",content:"\u003Cp\u003EYou cannot directly require JSON files, since SvelteKit expects \u003Ca href=\"docs\u002Fconfiguration\"\u003E\u003Ccode\u003Esvelte.config.js\u003C\u002Fcode\u003E\u003C\u002Fa\u003E to be an ES module. If you&#39;d like to include your application&#39;s version number or other information from \u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E in your application, you can load JSON like so:\u003C\u002Fp\u003E\n\u003Cdiv class=\"code-block\"\u003E\u003Cspan class=\"filename\"\u003Esvelte.config.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function readFileSync(path: PathOrFileDescriptor, options?: {&amp;#10;    encoding?: null | undefined;&amp;#10;    flag?: string | undefined;&amp;#10;} | null): Buffer (+2 overloads)&amp;#10;import readFileSync' \u003EreadFileSync\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;fs&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function fileURLToPath(url: string | URL): string&amp;#10;import fileURLToPath' \u003EfileURLToPath\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;url&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const file: string' \u003Efile\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) fileURLToPath(url: string | URL): string&amp;#10;import fileURLToPath' \u003EfileURLToPath\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Enew\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) new URL(input: string, base?: string | URL | undefined): URL&amp;#10;import URL' \u003EURL\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;package.json&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003Emeta\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) ImportMeta.url: string' \u003Eurl\u003C\u002Fdata-lsp\u003E));\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const json: string' \u003Ejson\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) readFileSync(path: PathOrFileDescriptor, options: {&amp;#10;    encoding: BufferEncoding;&amp;#10;    flag?: string | undefined;&amp;#10;} | BufferEncoding): string (+2 overloads)&amp;#10;import readFileSync' \u003EreadFileSync\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='const file: string' \u003Efile\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;utf8&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const pkg: any' \u003Epkg\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='var JSON: JSON' \u003EJSON\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) JSON.parse(text: string, reviver?: ((this: any, key: string, value: any) =\u003E any) | undefined): any' \u003Eparse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='const json: string' \u003Ejson\u003C\u002Fdata-lsp\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E",sections:[]},{file:"faq\u002F70-packages.md",slug:"packages",title:"How do I fix the error I'm getting trying to include a package?",content:"\u003Cp\u003EMost issues related to including a library are due to incorrect packaging. You can check if a library&#39;s packaging is compatible with Node.js by entering it into \u003Ca href=\"https:\u002F\u002Fpublint.dev\u002F\"\u003Ethe publint website\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHere are a few things to keep in mind when checking if a library is packaged correctly:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Eexports\u003C\u002Fcode\u003E takes precedence over the other entry point fields such as \u003Ccode\u003Emain\u003C\u002Fcode\u003E and \u003Ccode\u003Emodule\u003C\u002Fcode\u003E. Adding an \u003Ccode\u003Eexports\u003C\u002Fcode\u003E field may not be backwards-compatible as it prevents deep imports.\u003C\u002Fli\u003E\n\u003Cli\u003EESM files should end with \u003Ccode\u003E.mjs\u003C\u002Fcode\u003E unless \u003Ccode\u003E&quot;type&quot;: &quot;module&quot;\u003C\u002Fcode\u003E is set in which any case CommonJS files should end with \u003Ccode\u003E.cjs\u003C\u002Fcode\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Emain\u003C\u002Fcode\u003E should be defined if \u003Ccode\u003Eexports\u003C\u002Fcode\u003E is not. It should be either a CommonJS or ESM file and adhere to the previous bullet. If a \u003Ccode\u003Emodule\u003C\u002Fcode\u003E field is defined, it should refer to an ESM file.\u003C\u002Fli\u003E\n\u003Cli\u003ESvelte components should be distributed as uncompiled \u003Ccode\u003E.svelte\u003C\u002Fcode\u003E files with any JS in the package written as ESM only. Custom script and style languages, like TypeScript and SCSS, should be preprocessed as vanilla JS and CSS respectively. We recommend using \u003Ca href=\"docs\u002Fpackaging\"\u003E\u003Ccode\u003Esvelte-package\u003C\u002Fcode\u003E\u003C\u002Fa\u003E for packaging Svelte libraries, which will do this for you.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ELibraries work best in the browser with Vite when they distribute an ESM version, especially if they are dependencies of a Svelte component library. You may wish to suggest to library authors that they provide an ESM version. However, CommonJS (CJS) dependencies should work as well since, by default, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsveltejs\u002Fvite-plugin-svelte\u002Fblob\u002Fmain\u002Fdocs\u002Ffaq.md#what-is-going-on-with-vite-and-pre-bundling-dependencies\"\u003E\u003Ccode\u003Evite-plugin-svelte\u003C\u002Fcode\u003E will ask Vite to pre-bundle them\u003C\u002Fa\u003E using \u003Ccode\u003Eesbuild\u003C\u002Fcode\u003E to convert them to ESM.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you are still encountering issues we recommend searching both \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fvitejs\u002Fvite\u002Fissues\"\u003Ethe Vite issue tracker\u003C\u002Fa\u003E and the issue tracker of the library in question. Sometimes issues can be worked around by fiddling with the \u003Ca href=\"https:\u002F\u002Fvitejs.dev\u002Fconfig\u002F#dep-optimization-options\"\u003E\u003Ccode\u003EoptimizeDeps\u003C\u002Fcode\u003E\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fvitejs.dev\u002Fconfig\u002F#ssr-options\"\u003E\u003Ccode\u003Essr\u003C\u002Fcode\u003E\u003C\u002Fa\u003E config values though we recommend this as only a short-term workaround in favor of fixing the library in question.\u003C\u002Fp\u003E\n",sections:[]},{file:"faq\u002F80-integrations.md",slug:"integrations",title:"How do I use X with SvelteKit?",content:"\u003Cp\u003EMake sure you&#39;ve read the \u003Ca href=\"docs\u002Fintegrations\"\u003Edocumentation section on integrations\u003C\u002Fa\u003E. If you&#39;re still having trouble, solutions to common issues are listed below.\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-do-i-setup-a-database\"\u003EHow do I setup a database?\u003Ca href=\"#how-do-i-setup-a-database\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EPut the code to query your database in a \u003Ca href=\"docs\u002Frouting#server\"\u003Eserver route\u003C\u002Fa\u003E - don&#39;t query the database in .svelte files. You can create a \u003Ccode\u003Edb.js\u003C\u002Fcode\u003E or similar that sets up a connection immediately and makes the client accessible throughout the app as a singleton. You can execute any one-time setup code in \u003Ccode\u003Ehooks.js\u003C\u002Fcode\u003E and import your database helpers into any endpoint that needs them.\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-do-i-use-a-client-side-only-library-that-depends-on-document-or-window\"\u003EHow do I use a client-side only library that depends on \u003Ccode\u003Edocument\u003C\u002Fcode\u003E or \u003Ccode\u003Ewindow\u003C\u002Fcode\u003E?\u003Ca href=\"#how-do-i-use-a-client-side-only-library-that-depends-on-document-or-window\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EIf you need access to the \u003Ccode\u003Edocument\u003C\u002Fcode\u003E or \u003Ccode\u003Ewindow\u003C\u002Fcode\u003E variables or otherwise need code to run only on the client-side you can wrap it in a \u003Ccode\u003Ebrowser\u003C\u002Fcode\u003E check:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { browser } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;$app\u002Fenvironment&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (browser) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F\u002F client-only code here\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003EYou can also run code in \u003Ccode\u003EonMount\u003C\u002Fcode\u003E if you&#39;d like to run it after the component has been first rendered to the DOM:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;svelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Easync\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E () \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const method: any' \u003Emethod\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eawait\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;some-browser-only-library&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='const method: any' \u003Emethod\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;hello world&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E});\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003EIf the library you&#39;d like to use is side-effect free you can also statically import it and it will be tree-shaken out in the server-side build where \u003Ccode\u003EonMount\u003C\u002Fcode\u003E will be automatically replaced with a no-op:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;svelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) module \"some-browser-only-library\"&amp;#10;import method' \u003Emethod\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;some-browser-only-library&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(() \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) module \"some-browser-only-library\"&amp;#10;import method' \u003Emethod\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;hello world&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E});\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003EOtherwise, if the library has side effects and you&#39;d still prefer to use static imports, check out \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbluwy\u002Fvite-plugin-iso-import\"\u003Evite-plugin-iso-import\u003C\u002Fa\u003E to support the \u003Ccode\u003E?client\u003C\u002Fcode\u003E import suffix. The import will be stripped out in SSR builds. However, note that you will lose the ability to use VS Code Intellisense if you use this method.\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;svelte&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) module \"some-browser-only-library?client\"&amp;#10;import method' \u003Emethod\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;some-browser-only-library?client&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) onMount(fn: () =\u003E any): void&amp;#10;import onMount' \u003EonMount\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(() \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) module \"some-browser-only-library?client\"&amp;#10;import method' \u003Emethod\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;hello world&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E});\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"how-do-i-use-a-different-backend-api-server\"\u003EHow do I use a different backend API server?\u003Ca href=\"#how-do-i-use-a-different-backend-api-server\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003EYou can use \u003Ca href=\"docs\u002Fload#making-fetch-requests\"\u003E\u003Ccode\u003Eevent.fetch\u003C\u002Fcode\u003E\u003C\u002Fa\u003E to request data from an external API server, but be aware that you would need to deal with \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FCORS\"\u003ECORS\u003C\u002Fa\u003E, which will result in complications such as generally requiring requests to be preflighted resulting in higher latency. Requests to a separate subdomain may also increase latency due to an additional DNS lookup, TLS setup, etc. If you wish to use this method, you may find \u003Ca href=\"docs\u002Fhooks#server-hooks-handlefetch\"\u003E\u003Ccode\u003EhandleFetch\u003C\u002Fcode\u003E\u003C\u002Fa\u003E helpful.\u003C\u002Fp\u003E\n\u003Cp\u003EAnother approach is to set up a proxy to bypass CORS headaches. In production, you would rewrite a path like \u003Ccode\u003E\u002Fapi\u003C\u002Fcode\u003E to the API server; for local development, use Vite&#39;s \u003Ca href=\"https:\u002F\u002Fvitejs.dev\u002Fconfig\u002Fserver-options.html#server-proxy\"\u003E\u003Ccode\u003Eserver.proxy\u003C\u002Fcode\u003E\u003C\u002Fa\u003E option.\u003C\u002Fp\u003E\n\u003Cp\u003EHow to setup rewrites in production will depend on your deployment platform. If rewrites aren&#39;t an option, you could alternatively add an \u003Ca href=\"https:\u002F\u002Fkit.svelte.dev\u002Fdocs\u002Frouting#server\"\u003EAPI route\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cdiv class=\"js-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Froutes\u002Fapi\u002F[...path]\u002F+server.js\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;.\u002F$types&apos;).\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efunction\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function GET(event: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null\u003E): \u003Ca href=\"\u002Fdocs\u002Ftypes#private-types-maybepromise\"\u003EMaybePromise\u003C\u002Fa\u003E&amp;lt;Response\u003E' \u003EGET\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E({ \u003Cdata-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' \u003Eparams\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E }) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function fetch(input: URL | RequestInfo, init?: RequestInit | undefined): Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`https:\u002F\u002Fmy-api-server.com\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E${\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' \u003Eparams\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E+\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) URL.search: string' \u003Esearch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cdiv class=\"ts-version code-block\"\u003E\u003Cspan class=\"filename\"\u003Esrc\u002Froutes\u002Fapi\u002F[...path]\u002F+server.ts\u003C\u002Fspan\u003E\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) type \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E = Kit.\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;.\u002F$types&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const GET: ({ params, url }: \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requestevent\"\u003ERequestEvent\u003C\u002Fa\u003E&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null\u003E) =\u003E Promise&amp;lt;Response\u003E' \u003EGET\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E (({ \u003Cdata-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' \u003Eparams\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E }) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Ereturn\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='function fetch(input: URL | RequestInfo, init?: RequestInit | undefined): Promise&amp;lt;Response\u003E' \u003Efetch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`https:\u002F\u002Fmy-api-server.com\u002F\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E${\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) params: {&amp;#10;    path: string;&amp;#10;}' \u003Eparams\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) path: string' \u003Epath\u003C\u002Fdata-lsp\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E+\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) url: URL' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) URL.search: string' \u003Esearch\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E}) satisfies \u003Cdata-lsp lsp='(alias) type \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E = Kit.\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E&amp;lt;{&amp;#10;    path: string;&amp;#10;}, string | null\u003E&amp;#10;import \u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E' \u003E\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-requesthandler\"\u003ERequestHandler\u003C\u002Fa\u003E\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E(Note that you may also need to proxy \u003Ccode\u003EPOST\u003C\u002Fcode\u003E\u002F\u003Ccode\u003EPATCH\u003C\u002Fcode\u003E etc requests, and forward \u003Ccode\u003Erequest.headers\u003C\u002Fcode\u003E, depending on your needs.)\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-do-i-use-middleware\"\u003EHow do I use middleware?\u003Ca href=\"#how-do-i-use-middleware\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003E\u003Ccode\u003Eadapter-node\u003C\u002Fcode\u003E builds a middleware that you can use with your own server for production mode. In dev, you can add middleware to Vite by using a Vite plugin. For example:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki twoslash lsp\" style=\"background-color: var(--shiki-color-background); color: var(--shiki-color-text)\"\u003E\u003Cdiv class=\"language-id\"\u003Ets\u003C\u002Fdiv\u003E\u003Cdiv class='code-container'\u003E\u003Ccode\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E { \u003Cdata-lsp lsp='(alias) function sveltekit(): Promise&amp;lt;Plugin[]\u003E&amp;#10;import sveltekit' \u003Esveltekit\u003C\u002Fdata-lsp\u003E } \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Efrom\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;@sveltejs\u002Fkit\u002Fvite&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;vite&apos;).Plugin}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const myPlugin: Plugin_2' \u003EmyPlugin\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) OutputPlugin.name: string' \u003Ename\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E&apos;log-request-middleware&apos;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(property) Plugin_2.configureServer?: ObjectHook&amp;lt;ServerHook, {}\u003E | undefined' \u003EconfigureServer\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003Cdata-lsp lsp='(parameter) server: ViteDevServer' \u003Eserver\u003C\u002Fdata-lsp\u003E) {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) server: ViteDevServer' \u003Eserver\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(property) ViteDevServer.middlewares: Connect.\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-server\"\u003EServer\u003C\u002Fa\u003E' \u003Emiddlewares\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Connect.\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-server\"\u003EServer\u003C\u002Fa\u003E.use(fn: Connect.NextHandleFunction): Connect.\u003Ca href=\"\u002Fdocs\u002Ftypes#public-types-server\"\u003EServer\u003C\u002Fa\u003E (+3 overloads)' \u003Euse\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E((\u003Cdata-lsp lsp='(parameter) req: Connect.IncomingMessage' \u003Ereq\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) res: ServerResponse&amp;lt;IncomingMessage\u003E' \u003Eres\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='(parameter) next: Connect.NextFunction' \u003Enext\u003C\u002Fdata-lsp\u003E) \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='namespace console&amp;#10;var console: Console' \u003Econsole\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E.\u003Cdata-lsp lsp='(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)' \u003Elog\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`Got request \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E${\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='(parameter) req: Connect.IncomingMessage' \u003Ereq\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E.\u003Cdata-lsp lsp='(property) IncomingMessage.url?: string | undefined' \u003Eurl\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-string-expression)\"\u003E`\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E      \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(parameter) next: (err?: any) =\u003E void' \u003Enext\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E();\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E    });\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  }\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E};\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E\u002F** \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E@type\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E{import(&apos;vite&apos;).UserConfig}\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-comment)\"\u003E *\u002F\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-constant)\"\u003E\u003Cdata-lsp lsp='const config: UserConfig' \u003Econfig\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E {\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E  \u003Cdata-lsp lsp='(property) UserConfig.plugins?: PluginOption[] | undefined' \u003Eplugins\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003E:\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E [\u003Cdata-lsp lsp='const myPlugin: Plugin_2' \u003EmyPlugin\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-punctuation)\"\u003E,\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-function)\"\u003E\u003Cdata-lsp lsp='(alias) sveltekit(): Promise&amp;lt;Plugin_2[]\u003E&amp;#10;import sveltekit' \u003Esveltekit\u003C\u002Fdata-lsp\u003E\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E()]\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E};\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E&nbsp;\u003C\u002Fdiv\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Eexport\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-token-keyword)\"\u003Edefault\u003C\u002Fspan\u003E\u003Cspan style=\"color: var(--shiki-color-text)\"\u003E \u003Cdata-lsp lsp='const config: UserConfig' \u003Econfig\u003C\u002Fdata-lsp\u003E;\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E\u003C\u002Fpre\u003E\u003Cp\u003ESee \u003Ca href=\"https:\u002F\u002Fvitejs.dev\u002Fguide\u002Fapi-plugin.html#configureserver\"\u003EVite&#39;s \u003Ccode\u003EconfigureServer\u003C\u002Fcode\u003E docs\u003C\u002Fa\u003E for more details including how to control ordering.\u003C\u002Fp\u003E\n\u003Ch3 id=\"does-it-work-with-yarn-2\"\u003EDoes it work with Yarn 2?\u003Ca href=\"#does-it-work-with-yarn-2\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ESort of. The Plug&#39;n&#39;Play feature, aka &#39;pnp&#39;, is broken (it deviates from the Node module resolution algorithm, and \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fyarnpkg\u002Fberry\u002Fissues\u002F638\"\u003Edoesn&#39;t yet work with native JavaScript modules\u003C\u002Fa\u003E which SvelteKit — along with an \u003Ca href=\"https:\u002F\u002Fblog.sindresorhus.com\u002Fget-ready-for-esm-aa53530b3f77\"\u003Eincreasing number of packages\u003C\u002Fa\u003E — uses). You can use \u003Ccode\u003EnodeLinker: &#39;node-modules&#39;\u003C\u002Fcode\u003E in your \u003Ca href=\"https:\u002F\u002Fyarnpkg.com\u002Fconfiguration\u002Fyarnrc#nodeLinker\"\u003E\u003Ccode\u003E.yarnrc.yml\u003C\u002Fcode\u003E\u003C\u002Fa\u003E file to disable pnp, but it&#39;s probably easier to just use npm or \u003Ca href=\"https:\u002F\u002Fpnpm.io\u002F\"\u003Epnpm\u003C\u002Fa\u003E, which is similarly fast and efficient but without the compatibility headaches.\u003C\u002Fp\u003E\n\u003Ch3 id=\"how-do-i-use-with-yarn-3\"\u003EHow do I use with Yarn 3?\u003Ca href=\"#how-do-i-use-with-yarn-3\" class=\"permalink\"\u003E\u003Cspan class=\"visually-hidden\"\u003Epermalink\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\u003Cp\u003ECurrently ESM Support within the latest Yarn (version 3) is considered \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fyarnpkg\u002Fberry\u002Fpull\u002F2161\"\u003Eexperimental\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThe below seems to work although your results may vary.\u003C\u002Fp\u003E\n\u003Cp\u003EFirst create a new application:\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003Eyarn create svelte myapp\ncd myapp\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EAnd enable Yarn Berry:\u003C\u002Fp\u003E\n\u003Cpre class='language-undefined'\u003E\u003Ccode\u003Eyarn set version berry\nyarn install\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003EYarn 3 global cache\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EOne of the more interesting features of Yarn Berry is the ability to have a single global cache for packages, instead of having multiple copies for each project on the disk. However, setting \u003Ccode\u003EenableGlobalCache\u003C\u002Fcode\u003E to true causes building to fail, so it is recommended to add the following to the \u003Ccode\u003E.yarnrc.yml\u003C\u002Fcode\u003E file:\u003C\u002Fp\u003E\n\u003Cpre class='language-'\u003E\u003Ccode\u003EnodeLinker: node-modules\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis will cause packages to be downloaded into a local node_modules directory but avoids the above problem and is your best bet for using version 3 of Yarn at this point in time.\u003C\u002Fp\u003E\n",sections:[{title:"How do I setup a database?",slug:"how-do-i-setup-a-database"},{title:"How do I use a client-side only library that depends on document or window?",slug:"how-do-i-use-a-client-side-only-library-that-depends-on-document-or-window"},{title:"How do I use a different backend API server?",slug:"how-do-i-use-a-different-backend-api-server"},{title:"How do I use middleware?",slug:"how-do-i-use-middleware"},{title:"Does it work with Yarn 2?",slug:"does-it-work-with-yarn-2"},{title:"How do I use with Yarn 3?",slug:"how-do-i-use-with-yarn-3"}]}]},"uses":{}}];

					Promise.all([
						import("./_app/immutable/entry/start.bc2154d3.js"),
						import("./_app/immutable/entry/app.6b34a82d.js")
					]).then(([kit, app]) => {
						kit.start(app, __sveltekit_duwvm8.element, {
							node_ids: [0, 6],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
